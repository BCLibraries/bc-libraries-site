{"version":3,"sources":["slots/PhysicalAvailability.jsx","FixBrokenImage.jsx","slots/video/OnlineVideo.jsx","slots/video/PhysicalVideo.jsx","slots/video/VideoResult.jsx","slots/books/BookResult.jsx","slots/SeeAllLink.jsx","slots/NewResultsBox.js","slots/LoadingBox.js","slots/ErrorBox.js","slots/NoResultsBox.js","slots/ResultList.js","slots/NewResultsBoxContainer.jsx","slots/cleanGraphQLInput.js","slots/books/BooksAndMoreQuery.js","slots/books/BookResults.jsx","slots/articles/ArticleResult.jsx","slots/articles/ArticlesQuery.js","slots/articles/ArticleResults.jsx","slots/faq/FaqResult.jsx","slots/faq/FAQQuery.js","slots/faq/FaqResults.jsx","slots/librarians/LibrarianResult.jsx","slots/UseFetchResultList.js","slots/ResultBox.jsx","slots/librarians/LibrarianResults.jsx","slots/video/VideosQuery.js","slots/video/VideoResults.jsx","slots/website/WebsiteResult.jsx","slots/website/WebsiteResults.jsx","slots/bestbets/BestBetResult.js","slots/bestbets/BestBetLookup.js","SkipToLink.jsx","SkipToLinkBar.jsx","SearchResults.jsx","slots/BlankSearchScreen.jsx","App.jsx","SearchBox.jsx","AppContainer.jsx","serviceWorker.js","index.js"],"names":["locationValues","ONL","weight","Stacks","1st Floor Microfilm","TML","BAPST","BURNS","ERC","SWK","LAW","GEO","RES_SHARE","DEV","INT","getLocationScore","libraryCode","location","library","sortLibraries","a","b","locationCode","recordLink","item","concat","id","PhysicalAvailability","_ref","available","holdings","length","react_default","createElement","href","avail_items","all_items","i","items","filter","availability","Array","prototype","push","apply","sort","avail_display","link","total","availClass","in_other_libraries","className","libraryDisplay","callNumber","itemAvail","FixBrokenImage","fallbackImage","imgClass","event","target","onerror","src","blankScreen","watchLink","video","mms","OnlineVideo","screen","screenCap","screenClass","alt","title","onError","date","creator","contributors","creatorName","defaultDVDIcon","dvdClass","defaultIcon","iconClass","coverClass","coverImages","onImageLoad","naturalHeight","PhysicalVideo","format","includes","cover","String","url","getCover","altText","aria-hidden","onLoad","slots_PhysicalAvailability","VideoResult","inCatalogResult","isElectronic","video_OnlineVideo","video_PhysicalVideo","resultClass","BookResult","type","video_VideoResult","publisher","getItLink","isPhysical","physicalAvailability","coverImage","SeeAllLink","found","term","toLocaleString","NewResultsBox","heading","seeAll","searchUrl","children","aria-live","LoadingBox","slots_NewResultsBox","ErrorBox","NoResultsBox","ResultList","docs","classPrefix","renderResult","map","NewResultsBoxContainer","client","query","_useQuery","useQuery","gql","loading","error","data","slots_LoadingBox","slots_ErrorBox","object","slots_NoResultsBox","results","slots_SeeAllLink","slots_ResultList","cleanGraphQLInput","string","replace","BooksAndMoreQuery","searchString","Object","classCallCheck","this","_templateObject","forBooksAndMore","BookResults","slots_NewResultsBoxContainer","doc","books_BookResult","key","article","ArticleResult","part_of","journal_title","parts","split","formatPartOf","isPartOf","journalTitle","ArticlesQuery","ArticlesQuery_templateObject","forArticles","ArticleResults","articles_ArticleResult","FaqResult","result","question","FAQQuery","FAQQuery_templateObject","forFAQ","FaqResults","faq_FaqResult","LibrarianResult","librarian","img_url","image","name","display_subjects","subjects","join","useFetchResultList","baseUrl","_useState","useState","total_results","_useState2","slicedToArray","setData","_useState3","_useState4","setLoading","_fetchData","asyncToGenerator","regenerator_default","mark","_callee","json","response","wrap","_context","prev","next","abrupt","fetch","sent","t0","stop","arguments","useEffect","_x","fetchData","ResultBox","body","render","noResultsMessage","_useFetchResultList","converted_data","original_data","converted","search_url","convertOldAPIResponses","renderLibrarianList","Fragment","librarians_LibrarianResult","LibrarianResults","slots_ResultBox","process","VideosQuery","VideosQuery_templateObject","forVideos","VideoResults","getHighlight","hit","__html","highlight","WebsiteResult","page_title","guide_url","guide_title","dangerouslySetInnerHTML","renderHitList","website_WebsiteResult","WebsiteResults","BestBetResult","bestBet","displayText","BestBetLookup","BestBetLookup_templateObject","forBestBets","bestbets_BestBetResult","SkipToLink","label","onClick","current","scrollIntoView","behavior","block","SkipToLinkBar","booksDiv","articlesDiv","faqDiv","librariansDiv","videoDiv","websiteDiv","src_SkipToLink","ApolloClient","uri","SearchResults","refList","useRef","resultBoxParams","bestbets_BestBetLookup","ref","books_BookResults","articles_ArticleResults","faq_FaqResults","librarians_LibrarianResults","video_VideoResults","website_WebsiteResults","BlankSearchScreen","App","searchBox","src_SearchResults","slots_BlankSearchScreen","minTypeaheadLength","getSuggestionValue","suggestion","value","searchBoxId","onSuggestionSelected","suggestionValue","suggestionIndex","sectionIndex","method","window","protocol","host","pathname","renderSuggestion","SearchBox","_ref2","handleTyping","onSubmit","suggestions","setSuggestions","setValue","_fetchSuggestions","_ref4","reason","inputProps","placeholder","onChange","_ref3","newValue","autoFocus","action","htmlFor","dist_default","onSuggestionsFetchRequested","onSuggestionsClearRequested","getPageTitle","AppContainer","initialSearchString","RegExp","exec","search","decodeURIComponent","getUrlParameter","document","setSearchString","inputValue","setInputValue","src_SearchBox","handleSubmit","src_App","Boolean","hostname","match","ReactDOM","src_AppContainer","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.85c28698.chunk.js","sourcesContent":["import React from 'react';\n\nfunction PhysicalAvailability({item}) {\n    // Physical item, not available on shelf.\n    if (! item.available || item.holdings.length === 0) {\n        return <div>\n            Not available. <a href={recordLink(item)}>Check for more options</a>.\n        </div>\n    }\n\n\n    const all_items = [];\n    let holding, avail_items;\n\n    for (let i=0; i < item.holdings.length; i++) {\n        holding = item.holdings[i];\n        avail_items = holding.items.filter(item => item.availability === 'available');\n        Array.prototype.push.apply(all_items, avail_items);\n    }\n\n    const holdings = all_items.sort(sortLibraries);\n\n    const avail_display = holdings.length > 0 ? itemAvail(holdings[0], item.link, holdings.length) : '';\n\n    return (\n        <ul className='available-items-list'>\n            {avail_display}\n        </ul>\n    )\n}\n\nfunction itemAvail(item, link, total) {\n    const availClass = item.availability === 'available' ? 'item-info--available' : 'item-info--unavailable';\n    const in_other_libraries = total > 1 ? ' and other libraries' : '';\n\n    return (\n        <li className={`item-info ${availClass}`}>\n            <a href={link}>\n                <span className=\"item-info__library\">Find in {item.libraryDisplay}</span>\n                <span className=\"item-info__location\">{item.location}</span>\n                <span className=\"item-info__callno\">({item.callNumber})</span>\n                <span className=\"item-info__other-libraries\">{in_other_libraries}</span>\n            </a>\n        </li>\n    );\n}\n\nconst locationValues = {\n    'ONL': {\n        weight: -1,\n        'Stacks': -3,\n        '1st Floor Microfilm': 1\n    },\n    'TML': {\n        weight: 0\n    },\n    'BAPST': {\n        weight: 0\n    },\n    'BURNS': {\n        weight: 0\n    },\n    'ERC': {\n        weight: 0\n    },\n    'SWK': {\n        weight: 0\n    },\n    'LAW': {\n        weight: 0\n    },\n    'GEO': {\n        weight: 1\n    },\n    'RES_SHARE': {\n        weight: 2\n    },\n    'DEV': {\n        weight: 2\n    },\n    'INT': {\n        weight: 1\n    }\n};\n\nfunction getLocationScore(libraryCode, location) {\n    const library = locationValues[libraryCode];\n    return library[location] ? library[location] + library.weight : library.weight;\n}\n\nfunction sortLibraries(a, b) {\n    return getLocationScore(a.library, a.locationCode) - getLocationScore(b.library, b.locationCode)\n}\n\nfunction recordLink(item) {\n    return `https://bc-primo.hosted.exlibrisgroup.com/primo-explore/fulldisplay?docid=${item.id}&context=L&tab=bcl_only&search_scope=bcl&vid=bclib_new&lang=en_US`;\n}\n\nexport default PhysicalAvailability;","function FixBrokenImage(fallbackImage, imgClass) {\n    return function (event) {\n        event.target.onerror = null;\n        event.target.src = fallbackImage;\n        if (imgClass) {\n            event.target.className = imgClass;\n        }\n    }\n}\n\nexport default FixBrokenImage;","import React from 'react';\nimport FixBrokenImage from \"../../FixBrokenImage\";\n\nconst blankScreen = 'https://library.bc.edu/images/blank-screen.svg';\n\nfunction OnlineVideo({video}) {\n    const screen = video.screenCap ? video.screenCap : blankScreen;\n    const screenClass = video.screenCap ? 'online-video-thumb__screenshot' : 'online-video-thumb__blank_screen';\n\n    return <div className=\"online-video\">\n        <a href={watchLink(video)}>\n            <div className=\"online_video__thumb\">\n                <img src={screen} alt={`Watch ${video.title} online`} onError={FixBrokenImage(blankScreen)} className={screenClass}/>\n            </div>\n        </a>\n\n        <h3 className=\"online-video__media-heading media-heading\">\n            <a href={recordLink(video)} className=\"online-video__title\">{video.title}</a>\n        </h3>\n\n        {video.date}\n\n        <div className=\"online-video__creator\">{creatorName(video)}</div>\n\n        <div className=\"online-video__watch-link\"><a href={watchLink(video)}>Watch online</a></div>\n    </div>\n}\n\nfunction creatorName(video) {\n    if (video.creator) {\n        return video.creator;\n    }\n\n    if (video.contributors[0]) {\n        return video.contributors[0];\n    }\n\n    return '';\n}\n\nfunction watchLink(video) {\n    return `https://mlib.bc.edu/reserves-api/items/${video.mms}`;\n}\n\nfunction recordLink(item) {\n    return `https://bc-primo.hosted.exlibrisgroup.com/primo-explore/fulldisplay?docid=${item.id}&context=L&tab=bcl_only&search_scope=bcl&vid=bclib_new&lang=en_US`;\n}\n\nexport default OnlineVideo;","import React from 'react';\nimport PhysicalAvailability from \"../PhysicalAvailability\";\nimport FixBrokenImage from \"../../FixBrokenImage\";\n\nconst defaultVHSIcon = 'https://library.bc.edu/images/video-tape.svg';\nconst defaultDVDIcon = 'https://library.bc.edu/images/mono-dvd-mount.svg';\n\nconst vhsClass = 'physical-video__vhs-cover',\n    dvdClass = 'physical-video__dvd-cover';\n\nlet defaultIcon = defaultVHSIcon;\nlet iconClass = vhsClass;\n\nfunction PhysicalVideo({video}) {\n    if (video.format.includes('disc')) {\n        defaultIcon = defaultDVDIcon;\n        iconClass = dvdClass;\n    }\n\n    const cover = getCover(video);\n\n    const altText = `Catalog record for ${video.title}`;\n\n    return <div className=\"physical-video\">\n        <a href={recordLink(video)} aria-hidden=\"true\">\n            <img src={cover}\n                 onLoad={onImageLoad}\n                 onError={FixBrokenImage(defaultIcon, `OPER physical-video__default_cover ${iconClass}`)}\n                 alt={altText}\n                 className={coverClass(video)}/>\n        </a>\n\n        <h3 className=\"physical-video__media-heading media-heading\">\n            <a href={recordLink(video)} className=\"physical-video__title\">\n                {video.title}\n            </a>\n        </h3>\n\n        {video.date}\n\n        <div className=\"physical-video__creator\">{creatorName(video)}</div>\n\n        {video.format}\n\n        <PhysicalAvailability item={video}/>\n\n    </div>\n}\n\nfunction coverClass(video) {\n    return (video.coverImages.length > 0 && video.coverImages[0]) ? 'physical-video__box_cover' : `OPER HERE NOW physical-video__default_cover  ${iconClass}`;\n}\n\nfunction getCover(video) {\n    if (video.coverImages.length > 0 && video.coverImages[0]) {\n        return String(video.coverImages[0].url);\n    }\n\n    return defaultIcon;\n}\n\nfunction creatorName(video) {\n    if (video.creator) {\n        return video.creator;\n    }\n\n    if (video.contributors[0]) {\n        return video.contributors[0];\n    }\n\n    return '';\n}\n\nfunction recordLink(item) {\n    return `https://bc-primo.hosted.exlibrisgroup.com/primo-explore/fulldisplay?docid=${item.id}&context=L&tab=bcl_only&search_scope=bcl&vid=bclib_new&lang=en_US`;\n}\n\nfunction onImageLoad(event) {\n    if (event.target.naturalHeight === 1) {\n        event.target.className = `physical-video__default_cover ${iconClass}`;\n        event.target.src = defaultIcon;\n    }\n}\n\nexport default PhysicalVideo;","import React from 'react';\nimport OnlineVideo from './OnlineVideo';\nimport PhysicalVideo from './PhysicalVideo';\n\nfunction VideoResult({item, inCatalogResult}) {\n    const video = item.isElectronic ? <OnlineVideo video={item}/> : <PhysicalVideo video={item}/>;\n    const resultClass = inCatalogResult ? 'catalog-result-item' : 'catalog-result-item col-md-4';\n\n    return <li className={resultClass}>\n        {video}\n    </li>\n}\n\nexport default VideoResult;","import React from 'react';\nimport PhysicalAvailability from \"../PhysicalAvailability\";\nimport VideoResult from \"../video/VideoResult\";\n\nfunction BookResult({item}) {\n    if (item.isElectronic && item.type === 'Video') {\n        return <VideoResult item={item} inCatalogResult={true}/>;\n    }\n\n    const link = recordLink(item);\n\n    return <li className=\"catalog-result-item media\">\n\n        <div className=\"media-body\">\n            <h3 className=\"catalog-result-item__media-heading media-heading\">\n                <a href={link} className=\"catalog-result-item__title\">\n                    {item.title}\n                </a>\n            </h3>\n\n            <div className=\"catalog-result-item__creator\">{creatorName(item)}</div>\n\n            <div className=\"catalog-result-item__publisher\">\n                {item.publisher} {item.date}\n            </div>\n\n            <div className=\"catalog-result-item__type\">{item.type}</div>\n\n            {item.isElectronic && getItLink(item)}\n\n            {item.isPhysical && physicalAvailability(item)}\n\n        </div>\n\n        {item.coverImages.length > 1 && coverImage(item)}\n    </li>\n}\n\nfunction creatorName(item) {\n    if (item.creator) {\n        return item.creator;\n    }\n\n    if (item.contributors[0]) {\n        return item.contributors[0];\n    }\n\n    return '';\n}\n\nfunction getItLink(item) {\n    return <div className=\"catalog-result-item__getit\"><a href={recordLink(item)}>Find online</a></div>;\n}\n\nfunction physicalAvailability(item) {\n    return <PhysicalAvailability item={item}/>;\n}\n\nfunction coverImage(item) {\n    const altText = `Catalog record for ${item.title}`;\n    return <div className=\"media-right\">\n        <a href={recordLink(item)} aria-hidden=\"true\">\n            <img src={item.coverImages[0].url} alt={altText} className=\"cover-image\"/>\n        </a>\n    </div>\n}\n\nfunction recordLink(item) {\n    return `https://bc-primo.hosted.exlibrisgroup.com/primo-explore/fulldisplay?docid=${item.id}&context=L&tab=bcl_only&search_scope=bcl&vid=bclib_new&lang=en_US`;\n}\n\n\nexport default BookResult;","import React from 'react';\n\nfunction SeeAllLink({total, found, term, url}) {\n    if(!total) {\n        total = 0;\n    }\n\n    if (total <= found) {\n        return <div className=\"see-all-link--empty\"/>;\n    }\n\n    if (!term) {\n        return <div className=\"see-all-link--badge\">\n            <a href={url}>See all</a>\n        </div>;\n    }\n\n    return (\n        <div className=\"see-all-link\">\n            <span className=\"see-all-link__prefix\">></span> <a href={url}>See all {total.toLocaleString()} {term}</a>\n        </div>\n    );\n}\n\nexport default SeeAllLink;","import React from 'react';\n\n/**\n * A single result class box\n *\n * @param client object GraphQL client\n * @param heading string Heading for the box (e.g. \"Books & more\")\n * @param searchUrl string URL to link to search.\n * @return {*}\n * @constructor\n */\nfunction NewResultsBox({heading, searchUrl, seeAll, children}) {\n    return (\n        <div className=\"bento-results-box\" aria-live=\"polite\">\n            <div className=\"bento-results-box__header-row\">\n                <h2>{heading}</h2>\n                {seeAll}\n            </div>\n            {children}\n        </div>\n    )\n}\n\nexport default NewResultsBox;","import React from 'react';\nimport NewResultsBox from './NewResultsBox';\n\n/**\n * Contents of result box when waiting for results\n *\n * @param heading string Heading for the box (e.g. \"Books & more\")\n * @return {*}\n * @constructor\n */\nfunction LoadingBox({heading}) {\n    return (\n        <NewResultsBox heading={heading}>\n            <div className='bento-results-box__loading-notice'>Loading...</div>\n        </NewResultsBox>\n    )\n}\n\nexport default LoadingBox;","import React from 'react';\nimport NewResultsBox from './NewResultsBox';\n\n/**\n * Contents of result box after error\n *\n * @param heading string Heading for the box (e.g. \"Books & more\")\n * @return {*}\n * @constructor\n */\nfunction ErrorBox({heading}) {\n    return (\n        <NewResultsBox heading={heading}>\n            <div className=\"bento-results-box__error-notice\">There was an error performing this search.</div>\n        </NewResultsBox>\n    )\n}\n\nexport default ErrorBox;","import React from 'react';\nimport NewResultsBox from './NewResultsBox';\n\n/**\n * Contents of result after no result search\n *\n * @param heading string Heading for the box (e.g. \"Books & more\")\n * @return {*}\n * @constructor\n */\nfunction NoResultsBox({heading}) {\n    return (\n        <NewResultsBox heading={heading}>\n            <div className=\"bento-results-box__no-results\">There are no results matching your search.</div>\n        </NewResultsBox>\n    )\n\n}\n\nexport default NoResultsBox;","import React from 'react';\n\n/**\n * List of result from search\n *\n * @param docs array Docs array from GraphQL result\n * @param classPrefix string Prefix for element class\n * @param renderResult function Function that maps a GraphQL doc to a single JSX result entry\n * @return {*}\n * @constructor\n */\nfunction ResultList({docs, classPrefix, renderResult}) {\n    return <div className={`${classPrefix}-results-box`}>\n        <ol className={`${classPrefix}-results-list`}>\n            {docs.map(renderResult)}\n        </ol>\n    </div>\n}\n\nexport default ResultList;","import React from 'react';\nimport {useQuery} from \"@apollo/react-hooks\";\nimport SeeAllLink from \"./SeeAllLink\";\nimport LoadingBox from \"./LoadingBox\";\nimport ErrorBox from \"./ErrorBox\";\nimport NoResultsBox from \"./NoResultsBox\";\nimport ResultList from \"./ResultList\";\nimport NewResultsBox from \"./NewResultsBox\";\n\n/**\n * Fetch data from GraphQL and render result box\n *\n * @param client object GraphQL client\n * @param heading string Heading for the box (e.g. \"Books & more\")\n * @param term string Term for result (e.g. \"articles\")\n * @param classPrefix string Prefix for element class\n * @param searchUrl string URL to link to search.\n * @param renderResult function Function that maps a GraphQL doc to a single JSX result entry\n * @param query object The GraphQL query to execute.\n * @return {*}\n * @constructor\n */\nfunction NewResultsBoxContainer({client, heading, term, classPrefix, renderResult, query}) {\n\n    // Perform GraphQL query\n    const {loading, error, data} = useQuery(query.gql, {client});\n\n    if (loading) {\n        return <LoadingBox heading={heading}/>\n    }\n\n    if (error) {\n        return <ErrorBox heading={heading}/>\n    }\n\n    if (data[query.object].total === 0) {\n        return <NoResultsBox heading={heading}/>\n    }\n\n    // Success! Build response.\n    const docs = data[query.object].docs ? data[query.object].docs : data[query.object].results;\n    const searchUrl = data[query.object].searchUrl;\n    const seeAll = <SeeAllLink term={term} total={data[query.object].total} found={docs.length} url={searchUrl}/>;\n    heading = <a href={searchUrl}>{heading}</a>;\n\n    return (\n        <NewResultsBox heading={heading} seeAll={seeAll} searchUrl={searchUrl}>\n            <ResultList classPrefix={classPrefix} docs={docs} renderResult={renderResult}/>\n        </NewResultsBox>\n    )\n}\n\nexport default NewResultsBoxContainer;","/**\n * Cleans user input for submitting to GraphQL\n *\n * @param string string The search string\n * @return {void | string | never}\n */\nfunction cleanGraphQLInput(string) {\n    return string.replace(/\"/g, '\\\\\"').replace('/\\\\/g', '\\\\');\n}\n\nexport {cleanGraphQLInput};","import gql from \"graphql-tag\";\nimport {cleanGraphQLInput} from \"../cleanGraphQLInput\";\n\n/**\n * Books and more query\n */\nclass BooksAndMoreQuery {\n    gql;\n    object = 'searchCatalog';\n\n    constructor(searchString) {\n        this.gql = forBooksAndMore(searchString);\n    }\n}\n\nfunction forBooksAndMore(searchString) {\n    return gql`\n{\n  searchCatalog( keyword: \"${cleanGraphQLInput(searchString)}\", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages { \n        url\n      },\n      available,\n      isPhysical,\n      isElectronic,\n      screenCap,\n      mms,\n      holdings {\n        ilsId,\n        libraryCode,\n        locationDisplay,\n        locationCode,\n        availabilityStatus,\n        callNumber,\n        items {\n          availability,\n          locationCode,\n          location,\n          libraryDisplay,\n          library,\n          callNumber\n          }\n        }\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}`;\n}\n\nexport {BooksAndMoreQuery};","import React from 'react';\nimport BookResult from \"./BookResult\";\nimport NewResultsBoxContainer from \"../NewResultsBoxContainer\";\nimport {BooksAndMoreQuery} from \"./BooksAndMoreQuery\";\n\n/**\n * Book results box\n *\n * @param searchString string The search string from user input\n * @param client object GraphQL client\n * @return {*}\n * @constructor\n */\nfunction BookResults({searchString, client}) {\n    return (\n        <NewResultsBoxContainer\n            client={client}\n            heading={'Books & more'}\n            classPrefix={'books'}\n            term={'items'}\n            query={new BooksAndMoreQuery(searchString)}\n            renderResult={doc => <BookResult item={doc} key={`book-${doc.id}`}/>}\n        />\n    );\n}\n\nexport default BookResults;","import React from 'react';\n\nfunction ArticleResult({article}) {\n    return <li className=\"article-result-item media\">\n        <div className=\"media-body\">\n            <h3 className=\"article-result-item__media-heading media-heading\">\n                <a href={recordLink(article)} className=\"article-result-item__title\">\n                    {article.title}\n                </a>\n            </h3>\n\n            {article.date}\n\n            <div className=\"article-result-item__creator\">{article.creator}</div>\n            <div className=\"article-result-item__publisher\">\n                {formatPartOf(article.isPartOf, article.journalTitle)}\n            </div>\n\n        </div>\n    </li>;\n}\n\n// @TODO Replace\nfunction formatPartOf(part_of, journal_title) {\n    part_of = part_of.length > 0 ? part_of[0] : '';\n\n    const parts = part_of.split(journal_title);\n\n    if (!journal_title || parts.length !== 2) {\n        return <span>{part_of}</span>\n    }\n\n    return <span className=\"article-result-item__journal-title\">\n            {parts[0]}<cite>{journal_title}</cite>{parts[1]}\n        </span>\n}\n\nfunction recordLink(article) {\n    return `https://bc-primo.hosted.exlibrisgroup.com/primo-explore/fulldisplay?docid=${article.id}&context=PC&tab=pci_only&search_scope=pci&vid=bclib_new&lang=en_US`;\n}\n\nexport default ArticleResult;","import gql from \"graphql-tag\";\nimport {cleanGraphQLInput} from \"../cleanGraphQLInput\";\n\nclass ArticlesQuery {\n    gql;\n    object = 'searchArticles'\n\n    constructor(searchString) {\n        this.gql = forArticles(searchString);\n    }\n}\n\n/**\n * Get query for articles\n *\n * @param searchString string\n */\nfunction forArticles(searchString) {\n    return gql`\n{\n  searchArticles( keyword: \"${cleanGraphQLInput(searchString)}\", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages {\n        url\n      },\n      isPartOf,\n      journalTitle\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}`;\n}\n\nexport {ArticlesQuery};","import React from 'react';\nimport ArticleResult from \"./ArticleResult\";\nimport NewResultsBoxContainer from \"../NewResultsBoxContainer\";\nimport {ArticlesQuery} from \"./ArticlesQuery\";\n\n/**\n * Article results box\n *\n * @param searchString string The search string from user input\n * @param client object GraphQL client\n * @return {*}\n * @constructor\n */\nfunction ArticleResults({searchString, client}) {\n    return (\n        <NewResultsBoxContainer\n            client={client}\n            heading={'Articles'}\n            classPrefix={'articles'}\n            term={'articles'}\n            query={new ArticlesQuery(searchString)}\n            renderResult={doc => <ArticleResult article={doc} key={`article-${doc.id}`}/>}\n        />\n    );\n}\n\nexport default ArticleResults;","import React from 'react';\n\nfunction FaqResult({result}) {\n    return <li><a href={result.url}>{result.question}</a></li>;\n}\n\nexport default FaqResult;","import gql from \"graphql-tag\";\nimport {cleanGraphQLInput} from \"../cleanGraphQLInput\";\n\nclass FAQQuery {\n    gql;\n    object = 'searchFAQ';\n\n    constructor(searchString) {\n        this.gql = forFAQ(searchString);\n    }\n}\n\n/**\n * Get query for FAQ results\n *\n * @param searchString\n */\nfunction forFAQ(searchString) {\n    return gql`\n{\n  searchFAQ( keyword: \"${cleanGraphQLInput(searchString)}\", limit: 3) {\n    results {\n      id,\n      question,\n      url\n    },   \n    searchUrl,\n    total\n  }\n}`\n}\n\nexport {FAQQuery};","import React from 'react';\nimport FaqResult from \"./FaqResult\";\nimport NewResultsBoxContainer from \"../NewResultsBoxContainer\";\nimport {FAQQuery} from \"./FAQQuery\";\n\n/**\n * FAQ results box\n *\n * @param searchString string The search string from user input\n * @param client object GraphQL client\n * @return {*}\n * @constructor\n */\nfunction FaqResults({searchString, client}) {\n    return (\n        <NewResultsBoxContainer\n            client={client}\n            heading={'FAQ'}\n            classPrefix={'faq'}\n            term={'results'}\n            query={new FAQQuery(searchString)}\n            renderResult={doc => <FaqResult result={doc} key={`answer-${doc.id}`}/>}\n        />\n    );\n}\n\nexport default FaqResults;","import React from 'react';\n\nfunction LibrarianResult({librarian}) {\n    const url = `http://libguides.bc.edu/prf.php?account_id=${librarian.id}`;\n    const img_url = `//${librarian.image}`;\n    const alt = `picture of ${librarian.name}`;\n    const display_subjects = librarian.subjects.sort().join(', ');\n\n\n    return <li className=\"media\">\n        <div className=\"media-left\">\n            <a href={url}><img src={img_url} alt={alt}/></a>\n        </div>\n\n        <div className=\"media-body\">\n            <h3 className=\"media-heading\">\n                <a href={url}>{librarian.name}</a>\n            </h3>\n            <p className=\"guide-description\">{display_subjects}</p>\n        </div>\n    </li>;\n}\n\nexport default LibrarianResult;","import {useEffect, useState} from 'react';\n\nfunction useFetchResultList(searchString, baseUrl) {\n    const [data, setData] = useState({error: false, items: [], total_results: 0});\n    const [loading, setLoading] = useState(false);\n\n    async function fetchData(url) {\n        let json = {};\n\n        if (searchString === '') {\n            return;\n        }\n        setLoading(true);\n        try {\n            const response = await fetch(url);\n            json = await response.json();\n        } catch (err) {\n            json = {error: true, items: []}\n        }\n        setData(json);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        const url = `${baseUrl}?any=${searchString}`;\n        fetchData(url);\n    }, [searchString]);\n    return {data, loading};\n}\n\nexport default useFetchResultList;","import React from 'react';\nimport useFetchResultList from \"./UseFetchResultList\";\nimport SeeAllLink from \"./SeeAllLink\";\n\nfunction ResultBox({render, heading, term, searchString, baseUrl, classPrefix, noResultsMessage}) {\n    const {data, loading} = useFetchResultList(searchString, baseUrl);\n    const converted_data = convertOldAPIResponses(data);\n    let body;\n\n    noResultsMessage = noResultsMessage ? noResultsMessage : 'There are no results matching your search.';\n\n    if (loading) {\n        body = <div className='bento-results-box__loading-notice'>Loading</div>\n    } else if (converted_data.error) {\n        body = <div className=\"bento-results-box__error-notice\">There was an error performing this search.</div>;\n    } else if (!converted_data.total_results) {\n        body = <div className=\"bento-results-box__no-results-notice\">{noResultsMessage}</div>\n    } else {\n        body = (\n            <div className={`${classPrefix}-results-box`}>\n                <ol className={`${classPrefix}-results-list`}>\n                    {render(converted_data)}\n                </ol>\n                <SeeAllLink url={converted_data.search_url} total={converted_data.total_results} found={converted_data.items.length} term={term}/>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bento-results-box\">\n            <div className=\"bento-results-box__header-row\"><h2 className=\"bento-results-box__header\">\n                <a href={converted_data.search_url}>{heading}</a></h2>\n                <SeeAllLink url={converted_data.search_url} total={converted_data.total_results} found={converted_data.items.length} term={term}/>\n            </div>\n            {body}\n        </div>\n    );\n}\n\n/**\n * Convert calls from old APIs to new API formats\n *\n * @param original_data\n * @return {{search_url: string, items: Array, total_results: number}}\n */\nfunction convertOldAPIResponses(original_data) {\n    if (original_data.error) {\n        return original_data;\n    }\n\n    const converted = {\n        items: [],\n        total_results: null,\n        search_url: null\n    };\n\n    converted.items = original_data.items ? original_data.items : original_data;\n    converted.total_results = original_data.total_results ? original_data.total_results : converted.items.length;\n    converted.search_url = original_data.search_url ? original_data.search_url : null;\n\n    return converted;\n}\n\nexport default ResultBox;","import React from 'react';\nimport LibrarianResult from \"./LibrarianResult\";\nimport ResultBox from \"../ResultBox\";\n\nconst noResultsMessage = (\n    <div className=\"no-results-found\">\n        <a href=\"http://libguides.bc.edu/ask-a-librarian/contact\">See all subject librarians</a>.\n    </div>\n);\n\nconst renderLibrarianList = data => {\n    return (\n        <React.Fragment>\n            {data.items.map(librarian => <LibrarianResult key={librarian.id} librarian={librarian}/>)}\n        </React.Fragment>\n    );\n};\n\nfunction LibrarianResults({searchString}) {\n    return <ResultBox baseUrl={process.env.REACT_APP_LIBRARIANS_SERVICE_URL}\n                      classPrefix=\"librarian\"\n                      term=\"librarians\"\n                      heading=\"Librarians\"\n                      noResultsMessage={noResultsMessage}\n                      searchString={searchString}\n                      render={renderLibrarianList}\n    />;\n}\n\nexport default LibrarianResults;","import gql from \"graphql-tag\";\nimport {cleanGraphQLInput} from \"../cleanGraphQLInput\";\n\nclass VideosQuery {\n    gql;\n    object = 'searchVideo'\n\n    constructor(searchString) {\n        this.gql = forVideos(searchString);\n    }}\n\n/**\n * Get query for videos\n *\n * This query is the same as for Books & More.\n *\n * @param searchString string\n * @return {*}\n */\nfunction forVideos(searchString) {\n    return gql`\n{\n  searchVideo( keyword: \"${cleanGraphQLInput(searchString)}\", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages { \n        url\n      },\n      available,\n      isPhysical,\n      isElectronic,\n      screenCap,\n      format,\n      mms,\n      holdings {\n        ilsId,\n        libraryCode,\n        locationDisplay,\n        locationCode,\n        availabilityStatus,\n        callNumber,\n        items {\n          availability,\n          locationCode,\n          location,\n          libraryDisplay,\n          library,\n          callNumber\n          }\n        }\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}`;\n}\n\nexport {VideosQuery};","import React from 'react';\nimport VideoResult from \"./VideoResult\";\nimport NewResultsBoxContainer from \"../NewResultsBoxContainer\";\nimport {VideosQuery} from \"./VideosQuery\";\n\n/**\n * Video results box\n *\n * @param searchString string The search string from user input\n * @param client object GraphQL client\n * @return {*}\n * @constructor\n */\nfunction VideoResults({searchString, client}) {\n    return <NewResultsBoxContainer\n        client={client}\n        heading={'Videos'}\n        classPrefix={'videos'}\n        term={'videos'}\n        query={new VideosQuery(searchString)}\n        renderResult={doc => <VideoResult item={doc} key={`video-${doc.id}`}/>}\n    />\n}\n\nexport default VideoResults;","import React from 'react';\n\nfunction WebsiteResult({hit}) {\n    return <li className=\"website-hit\">\n        <h3 className=\"website-hit__title\">\n            <a href={hit.url}>{hit.page_title}</a>\n        </h3>\n        in <a href={hit.guide_url} className=\"website-hit__guide-title\">{hit.guide_title}</a>\n        <div className=\"website-hit__highlight\" dangerouslySetInnerHTML={getHighlight(hit)}/>\n    </li>\n}\n\nfunction getHighlight(hit) {\n    return {__html: hit.highlight[1]};\n}\n\nexport default WebsiteResult;","import React from 'react';\nimport WebsiteResult from \"./WebsiteResult\";\nimport ResultBox from \"../ResultBox\";\n\nconst renderHitList = data => {\n    return (\n        <React.Fragment>\n            {data.items.map((hit) => <WebsiteResult key={hit.url} hit={hit}/>)}\n        </React.Fragment>\n    );\n};\n\nfunction WebsiteResults({searchString}) {\n    return <ResultBox baseUrl={process.env.REACT_APP_WEBSITE_SERVICE_URL}\n                      classPrefix=\"website\"\n                      term=\"results\"\n                      heading=\"Our Website\"\n                      searchString={searchString}\n                      render={renderHitList}\n    />;\n}\n\nexport default WebsiteResults;","import React from \"react\";\n\nfunction BestBetResult({bestBet}) {\n    const title = bestBet.link ? (\n        <a href={bestBet.link}>{bestBet.title}</a>\n    ) : (<span>{bestBet.title}</span>);\n\n\n    return (\n        <div className='best-bet-row'>\n            <h2 className='best-bet-row__heading'>Top result</h2>\n            <div className='best-bet-result'>\n                <h3 className='best-bet-result__title'>{title}</h3>\n                <div dangerouslySetInnerHTML={{__html: bestBet.displayText}}/>\n            </div>\n        </div>\n    )\n}\n\nexport default BestBetResult;","import React from 'react';\nimport BestBetResult from \"./BestBetResult\";\nimport gql from \"graphql-tag\";\nimport {useQuery} from \"@apollo/react-hooks\";\nimport {cleanGraphQLInput} from \"../cleanGraphQLInput\";\n\nfunction BestBetLookup({searchString, client}) {\n    const {loading, error, data} = useQuery(forBestBets(searchString), {client});\n\n    if (loading || error || !data.bestBet) {\n        return null;\n    }\n\n    return <BestBetResult bestBet={data.bestBet}/>;\n}\n\n/**\n * Get query for Best Bets\n *\n * @param searchString\n */\nfunction forBestBets(searchString) {\n    return gql`\n{\n  bestBet( keyword: \"${cleanGraphQLInput(searchString)}\") {\n      title\n      displayText\n      link\n  }\n}`\n}\n\nexport default BestBetLookup;","import React from 'react';\n\nfunction SkipToLink({target, label}) {\n\n    const handleClick = (event) => {\n        if (target.current) {\n            target.current.scrollIntoView({\n                behavior: 'smooth',\n                block: 'start'\n            });\n        }\n    };\n\n    return <div><span className=\"link-to-results__skip_to_link\" onClick={handleClick}>{label}</span></div>;\n\n}\n\nexport default SkipToLink;","import React from 'react';\nimport SkipToLink from \"./SkipToLink\";\n\nfunction SkipToLinkBar({booksDiv, articlesDiv, faqDiv, librariansDiv, videoDiv, websiteDiv}) {\n    return (\n        <div className=\"row\">\n            <nav className=\"link-to-results col-md-8\">\n                <div className=\"link-to-results__skip-to\">Skip to:</div>\n                <SkipToLink target={booksDiv} label=\"Books & more\"/>\n                <SkipToLink target={articlesDiv} label=\"Articles\"/>\n                <SkipToLink target={faqDiv} label=\"FAQ\"/>\n                <SkipToLink target={librariansDiv} label=\"Librarians\"/>\n                <SkipToLink target={videoDiv} label=\"Video\"/>\n                <SkipToLink target={websiteDiv} label=\"Website\"/>\n            </nav>\n            <div className=\"not-finding col-md-4\">Not finding what you\n                need? <a href=\"https://libguides.bc.edu/ask-a-librarian\">Ask\n                    us!</a></div>\n        </div>\n    );\n}\n\nexport {SkipToLinkBar};","import React, {useRef} from 'react';\nimport BookResults from \"./slots/books/BookResults\";\nimport ArticleResults from \"./slots/articles/ArticleResults\";\nimport FaqResults from \"./slots/faq/FaqResults\";\nimport LibrarianResults from \"./slots/librarians/LibrarianResults\";\nimport VideoResults from \"./slots/video/VideoResults\";\nimport WebsiteResults from \"./slots/website/WebsiteResults\";\nimport BestBetLookup from \"./slots/bestbets/BestBetLookup\";\nimport {SkipToLinkBar} from \"./SkipToLinkBar\";\nimport ApolloClient from 'apollo-boost';\n\nconst client = new ApolloClient({uri: process.env.REACT_APP_GRAPHQL_ENDPOINT});\n\nfunction SearchResults({searchString}) {\n\n    // Get references to search result boxes for linking in the skip to bar.\n    const refList = {\n        booksDiv: useRef(null),\n        articlesDiv: useRef(null),\n        faqDiv: useRef(null),\n        librariansDiv: useRef(null),\n        videoDiv: useRef(null),\n        websiteDiv: useRef(null),\n    };\n\n    const resultBoxParams = {searchString, client};\n\n    return (\n        <div>\n            <SkipToLinkBar {...refList} />\n\n            <div className=\"bento-results\">\n                <BestBetLookup {...resultBoxParams}/>\n\n                <div className=\"results-row-1 row\">\n                    <div className=\"col-md-5 col-sm-12\" ref={refList.booksDiv}>\n                        <BookResults {...resultBoxParams} />\n                    </div>\n                    <div className=\"col-md-5 col-md-offset-1 col-sm-12\" ref={refList.articlesDiv}>\n                        <ArticleResults {...resultBoxParams}/>\n                    </div>\n                </div>\n\n                <div className=\"results-row-2 row\" ref={refList.faqDiv}>\n                    <div className=\"col-md-7\">\n                        <FaqResults {...resultBoxParams}/>\n                    </div>\n                    <div className=\"col-md-4 col-md-offset-1\" ref={refList.librariansDiv}>\n                        <LibrarianResults searchString={searchString}/>\n                    </div>\n                </div>\n\n                <div className=\"results-row-3 row\" ref={refList.videoDiv}>\n                    <div className=\"col-md-12\">\n                        <VideoResults {...resultBoxParams}/>\n                    </div>\n                </div>\n\n                <div className=\"results-row-4 row\" ref={refList.websiteDiv}>\n                    <div className=\"col-md-12\">\n                        <WebsiteResults searchString={searchString}/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SearchResults;","import React from 'react';\n\nfunction BlankSearchScreen() {\n    return (\n        <div className=\"blank-search-screen\">\n            <div className=\"blank-search-screen__explanation\">\n                Search for just about anything in or about the Libraries.\n            </div>\n        </div>\n    );\n}\n\nexport default BlankSearchScreen;","import React from 'react';\nimport SearchResults from \"./SearchResults\";\nimport BlankSearchScreen from \"./slots/BlankSearchScreen\";\n\nfunction App({searchBox, searchString}) {\n    return (\n        <div className=\"bento-results-page\">\n            <h1 className=\"sr-only sr-only-focusable\" id=\"main-heading\">Search the library</h1>\n            {searchBox}\n            {searchString ? <SearchResults searchString={searchString}/> : <BlankSearchScreen/>}\n        </div>\n    );\n}\n\nexport default App;\n","import React, {useState} from 'react';\nimport Autosuggest from 'react-autosuggest';\n\nconst minTypeaheadLength = 3;\nconst getSuggestionValue = suggestion => suggestion.value;\n\nconst searchBoxId = 'bento-search-box__search-input';\n\nfunction onSuggestionSelected(event, {suggestion, suggestionValue, suggestionIndex, sectionIndex, method}) {\n    const url = window.location.protocol + '//' + window.location.host + window.location.pathname;\n    window.location.href = `${url}?any=${suggestionValue}`;\n}\n\nconst renderSuggestion = suggestion => (\n    <div className=\"search-suggestion\">\n        {suggestion.value}\n    </div>\n);\n\nfunction SearchBox({handleTyping, searchString, onSubmit}) {\n    const [suggestions, setSuggestions] = useState([]);\n    const [value, setValue] = useState(searchString);\n\n\n    const onTyping = (event, {newValue, method}) => {\n        if (method === 'enter') {\n            onSubmit();\n        } else {\n            setValue(newValue);\n            handleTyping(newValue);\n        }\n    };\n\n    async function fetchSuggestions({value, reason}) {\n        const url = `https://library.bc.edu/search-services/typeahead?any=${value}`;\n\n        let json = [];\n\n        if (value.length < minTypeaheadLength) {\n            return;\n        }\n\n        if (reason === 'input-focused') {\n            return;\n        }\n\n        try {\n            const response = await fetch(url);\n            json = await response.json();\n        } catch (err) {\n            json = []\n        }\n        setSuggestions(json);\n    }\n\n    function clearSuggestions() {\n        setSuggestions([]);\n    }\n\n    // Search box should be auto-focused iff there is no results to display.\n    const autofocus = !value;\n\n    // Autosuggest will pass through all these props to the input.\n    const inputProps = {\n        placeholder: 'Search for books, articles, journals, databases',\n        value,\n        onChange: onTyping,\n        name: 'any',\n        id: searchBoxId,\n        autoFocus: autofocus\n    };\n\n    return <form method=\"get\" action=\".\" className=\"bento-search-box\">\n\n        <label htmlFor={searchBoxId} className=\"bcbento-search-box__input-label sr-only\">\n            Enter a search term\n        </label>\n        <Autosuggest suggestions={suggestions}\n                     onSuggestionsFetchRequested={fetchSuggestions}\n                     onSuggestionsClearRequested={clearSuggestions}\n                     getSuggestionValue={getSuggestionValue}\n                     renderSuggestion={renderSuggestion}\n                     onSuggestionSelected={onSuggestionSelected}\n                     inputProps={inputProps}\n\n        />\n    </form>\n}\n\nexport default SearchBox;","import React, {useState} from 'react';\nimport App from \"./App\";\nimport SearchBox from './SearchBox';\nimport 'airbnb-js-shims';\n\nfunction AppContainer() {\n    const initialSearchString = getUrlParameter('any');\n    document.title = getPageTitle(initialSearchString);\n\n    const [searchString, setSearchString] = useState(initialSearchString);\n    const [inputValue, setInputValue] = useState('');\n\n    const handleInput = value => setInputValue(value);\n    const handleSubmit = () => {\n        setSearchString(inputValue);\n        document.title = getPageTitle(searchString);\n    };\n\n    const searchBox = <SearchBox searchString={searchString}\n                                 handleTyping={handleInput}\n                                 handleSubmit={handleSubmit}/>;\n\n    return <App searchBox={searchBox} searchString={searchString}/>;\n}\n\nfunction getPageTitle(searchString) {\n    return searchString ? `Search - ${searchString}` : 'Search';\n}\n\nfunction getUrlParameter(name) {\n    name = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n    const regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n    const results = regex.exec(window.location.search);\n    return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\nexport default AppContainer;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppContainer from './AppContainer';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<AppContainer />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}