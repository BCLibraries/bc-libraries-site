(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(234)},234:function(e,t,a){"use strict";a.r(t);a(101);var n=a(0),r=a.n(n),i=a(92),l=a.n(i),c=a(24);var s=function(e,t){return function(a){a.target.onerror=null,a.target.src=e,t&&(a.target.className=t)}};function o(e){return"https://bc-primo.hosted.exlibrisgroup.com/primo-explore/fulldisplay?docid=".concat(e.id,"&context=L&tab=bcl_only&search_scope=bcl&vid=bclib_new&lang=en_US")}var m="https://library.bc.edu/images/blank-screen.svg";var u=function(e){var t=e.video,a=t.screenCap?t.screenCap:m,n=t.screenCap?"online-video-thumb__screenshot":"online-video-thumb__blank_screen",i="https://mlib.bc.edu/reserves-api/items/".concat(t.mms),l=o(t);return r.a.createElement("div",{className:"online-video"},r.a.createElement("a",{href:i},r.a.createElement("div",{className:"online_video__thumb"},r.a.createElement("img",{src:a,alt:"Watch ".concat(t.title," online"),onError:s(m),className:n}))),r.a.createElement("h3",{className:"online-video__media-heading media-heading"},r.a.createElement("a",{href:l,className:"online-video__title"},t.title)),t.date,r.a.createElement("div",{className:"online-video__creator"},function(e){return e.creator?e.creator:e.contributors[0]?e.contributors[0]:""}(t)),r.a.createElement("div",{className:"online-video__watch-link"},r.a.createElement("a",{href:i},"Watch online")))};var d=function(e){var t=e.item;return r.a.createElement("div",{className:"item-info item-info--unavailable"},"Not available. ",r.a.createElement("a",{href:o(t)},"Check for more options"),".")};var h=function(e){var t=e.item,a=e.library,n=e.location;return r.a.createElement("div",{className:"item-info item-info--check-holdings"},r.a.createElement("span",{className:"item-info__instructions"},r.a.createElement("a",{href:o(t)},'Check "Find in Library"')),r.a.createElement("span",{className:"item-info__library"},a),r.a.createElement("span",{className:"item-info__location"},n),".")};var v=function(e){var t=e.firstHolding,a=e.inOtherLibraries;return r.a.createElement("ul",{className:"available-items-list"},r.a.createElement("li",{className:"item-info item-info--available"},r.a.createElement("a",{href:t.link},r.a.createElement("span",{className:"item-info__library"},"Find in ",t.libraryDisplay),r.a.createElement("span",{className:"item-info__location"},t.location),r.a.createElement("span",{className:"item-info__callno"},"(",t.callNumber,")"),r.a.createElement("span",{className:"item-info__other-libraries"},a&&" and other libraries"))))};var b={ONL:{weight:-1,Stacks:-3,"1st Floor Microfilm":1},TML:{weight:0},BAPST:{weight:0},BURNS:{weight:0},ERC:{weight:0},SWK:{weight:0},LAW:{weight:0},GEO:{weight:1},RES_SHARE:{weight:2},DEV:{weight:2},INT:{weight:1}};function g(e,t){var a=b[e];return a[t]?a[t]+a.weight:a.weight}function f(e,t){return g(e.library,e.locationCode)-g(t.library,t.locationCode)}var E=function(e){var t=e.item,a=function(e){for(var t,a,n=[],r=0;r<e.holdings.length;r++)t=e.holdings[r],a=t.items.filter(function(e){return"available"===e.availability}),Array.prototype.push.apply(n,a);return n.sort(f)}(t),n=a.length>0?a[0]:null;return t.holdings[0]&&"check_holdings"===t.holdings[0].availabilityStatus?r.a.createElement(h,{item:t,library:t.holdings[0].libraryCode,location:t.holdings[0].locationDisplay}):n?r.a.createElement(v,{firstHolding:n,inOtherLibraries:a.length>1}):r.a.createElement(d,{item:t})},p="https://library.bc.edu/images/mono-dvd-mount.svg",_="physical-video__dvd-cover",y="https://library.bc.edu/images/video-tape.svg",N="physical-video__vhs-cover";function w(e){return e.coverImages.length>0&&e.coverImages[0]?"physical-video__box_cover":"OPER HERE NOW physical-video__default_cover  ".concat(N)}function k(e){1===e.target.naturalHeight&&(e.target.className="physical-video__default_cover ".concat(N),e.target.src=y)}var S=function(e){var t=e.video;t.format.includes("disc")&&(y=p,N=_);var a=function(e){return e.coverImages.length>0&&e.coverImages[0]?String(e.coverImages[0].url):y}(t),n="Catalog record for ".concat(t.title),i=o(t);return r.a.createElement("div",{className:"physical-video"},r.a.createElement("a",{href:i,"aria-hidden":"true"},r.a.createElement("img",{src:a,onLoad:k,onError:s(y,"OPER physical-video__default_cover ".concat(N)),alt:n,className:w(t)})),r.a.createElement("h3",{className:"physical-video__media-heading media-heading"},r.a.createElement("a",{href:i,className:"physical-video__title"},t.title)),t.date,r.a.createElement("div",{className:"physical-video__creator"},function(e){return e.creator?e.creator:e.contributors[0]?e.contributors[0]:""}(t)),t.format,r.a.createElement(E,{item:t}))};var j=function(e){var t=e.item,a=e.inCatalogResult,n=t.isElectronic?r.a.createElement(u,{video:t}):r.a.createElement(S,{video:t}),i=a?"catalog-result-item":"catalog-result-item col-md-4";return r.a.createElement("li",{className:i},n)};var x=function(e){var t=e.item;if(t.isElectronic&&"Video"===t.type)return r.a.createElement(j,{item:t,inCatalogResult:!0});var a=o(t);return r.a.createElement("li",{className:"catalog-result-item media"},r.a.createElement("div",{className:"media-body"},r.a.createElement("h3",{className:"catalog-result-item__media-heading media-heading"},r.a.createElement("a",{href:a,className:"catalog-result-item__title"},t.title)),r.a.createElement("div",{className:"catalog-result-item__creator"},function(e){return e.creator?e.creator:e.contributors[0]?e.contributors[0]:""}(t)),r.a.createElement("div",{className:"catalog-result-item__publisher"},t.publisher," ",t.date),r.a.createElement("div",{className:"catalog-result-item__type"},t.type),t.isElectronic&&function(e){return r.a.createElement("div",{className:"catalog-result-item__getit"},r.a.createElement("a",{href:o(e)},"Find online"))}(t),t.isPhysical&&function(e){return r.a.createElement(E,{item:e})}(t)),t.coverImages.length>1&&function(e){var t="Catalog record for ".concat(e.title);return r.a.createElement("div",{className:"media-right"},r.a.createElement("a",{href:o(e),"aria-hidden":"true"},r.a.createElement("img",{src:e.coverImages[0].url,alt:t,className:"cover-image"})))}(t))},O=a(43);var R=function(e){var t=e.total,a=e.found,n=e.term,i=e.url;return t||(t=0),t<=a?r.a.createElement("div",{className:"see-all-link--empty"}):n?r.a.createElement("div",{className:"see-all-link"},r.a.createElement("span",{className:"see-all-link__prefix"},">")," ",r.a.createElement("a",{href:i},"See all ",t.toLocaleString()," ",n)):r.a.createElement("div",{className:"see-all-link--badge"},r.a.createElement("a",{href:i},"See all"))};var C=function(e){var t=e.heading,a=(e.searchUrl,e.seeAll),n=e.children;return r.a.createElement("div",{className:"bento-results-box","aria-live":"polite"},r.a.createElement("div",{className:"bento-results-box__header-row"},r.a.createElement("h2",null,t),a),n)};var D=function(e){var t=e.heading;return r.a.createElement(C,{heading:t},r.a.createElement("div",{className:"bento-results-box__loading-notice"},"Loading..."))};var q=function(e){var t=e.heading;return r.a.createElement(C,{heading:t},r.a.createElement("div",{className:"bento-results-box__error-notice"},"There was an error performing this search."))};var I=function(e){var t=e.heading;return r.a.createElement(C,{heading:t},r.a.createElement("div",{className:"bento-results-box__no-results"},"There are no results matching your search."))};var P=function(e){var t=e.docs,a=e.classPrefix,n=e.renderResult;return r.a.createElement("div",{className:"".concat(a,"-results-box")},r.a.createElement("ol",{className:"".concat(a,"-results-list")},t.map(n)))};var L=function(e){var t=e.client,a=e.heading,n=e.term,i=e.classPrefix,l=e.renderResult,c=e.query,s=Object(O.a)(c.gql,{client:t}),o=s.loading,m=s.error,u=s.data;if(o)return r.a.createElement(D,{heading:a});if(m)return r.a.createElement(q,{heading:a});if(0===u[c.object].total)return r.a.createElement(I,{heading:a});var d=u[c.object].docs?u[c.object].docs:u[c.object].results,h=u[c.object].searchUrl,v=r.a.createElement(R,{term:n,total:u[c.object].total,found:d.length,url:h});return a=r.a.createElement("a",{href:h},a),r.a.createElement(C,{heading:a,seeAll:v,searchUrl:h},r.a.createElement(P,{classPrefix:i,docs:d,renderResult:l}))},T=a(9),U=a(11),A=a(8),B=a.n(A);function F(e){return e.replace(/"/g,'\\"').replace("/\\/g","\\")}function W(){var e=Object(T.a)(['\n{\n  searchCatalog( keyword: "','", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages { \n        url\n      },\n      available,\n      isPhysical,\n      isElectronic,\n      screenCap,\n      mms,\n      holdings {\n        ilsId,\n        libraryCode,\n        locationDisplay,\n        locationCode,\n        availabilityStatus,\n        callNumber,\n        items {\n          availability,\n          locationCode,\n          location,\n          libraryDisplay,\n          library,\n          callNumber\n          }\n        }\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}']);return W=function(){return e},e}var V=function e(t){Object(U.a)(this,e),this.object="searchCatalog",this.gql=function(e){return B()(W(),F(e))}(t)};var H=function(e){var t=e.searchString,a=e.client;return r.a.createElement(L,{client:a,heading:"Books & more",classPrefix:"books",term:"items",query:new V(t),renderResult:function(e){return r.a.createElement(x,{item:e,key:"book-".concat(e.id)})}})};var M=function(e){var t=e.article;return r.a.createElement("li",{className:"article-result-item media"},r.a.createElement("div",{className:"media-body"},r.a.createElement("h3",{className:"article-result-item__media-heading media-heading"},r.a.createElement("a",{href:o(t),className:"article-result-item__title"},t.title)),t.date,r.a.createElement("div",{className:"article-result-item__creator"},t.creator),r.a.createElement("div",{className:"article-result-item__publisher"},function(e,t){var a=(e=e.length>0?e[0]:"").split(t);return t&&2===a.length?r.a.createElement("span",{className:"article-result-item__journal-title"},a[0],r.a.createElement("cite",null,t),a[1]):r.a.createElement("span",null,e)}(t.isPartOf,t.journalTitle))))};function Q(){var e=Object(T.a)(['\n{\n  searchArticles( keyword: "','", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages {\n        url\n      },\n      isPartOf,\n      journalTitle\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}']);return Q=function(){return e},e}var J=function e(t){Object(U.a)(this,e),this.object="searchArticles",this.gql=function(e){return B()(Q(),F(e))}(t)};var G=function(e){var t=e.searchString,a=e.client;return r.a.createElement(L,{client:a,heading:"Articles",classPrefix:"articles",term:"articles",query:new J(t),renderResult:function(e){return r.a.createElement(M,{article:e,key:"article-".concat(e.id)})}})};var K=function(e){var t=e.result;return r.a.createElement("li",null,r.a.createElement("a",{href:t.url},t.question))};function $(){var e=Object(T.a)(['\n{\n  searchFAQ( keyword: "','", limit: 3) {\n    results {\n      id,\n      question,\n      url\n    },   \n    searchUrl,\n    total\n  }\n}']);return $=function(){return e},e}var z=function e(t){Object(U.a)(this,e),this.object="searchFAQ",this.gql=function(e){return B()($(),F(e))}(t)};var X=function(e){var t=e.searchString,a=e.client;return r.a.createElement(L,{client:a,heading:"FAQ",classPrefix:"faq",term:"results",query:new z(t),renderResult:function(e){return r.a.createElement(K,{result:e,key:"answer-".concat(e.id)})}})};var Y=function(e){var t=e.librarian,a="http://libguides.bc.edu/prf.php?account_id=".concat(t.id),n="//".concat(t.image),i="picture of ".concat(t.name),l=t.subjects.sort().join(", ");return r.a.createElement("li",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("a",{href:a},r.a.createElement("img",{src:n,alt:i}))),r.a.createElement("div",{className:"media-body"},r.a.createElement("h3",{className:"media-heading"},r.a.createElement("a",{href:a},t.name)),r.a.createElement("p",{className:"guide-description"},l)))};function Z(){var e=Object(T.a)(['\n{\n  recommendLibrarian( keyword: "','") {\n    total\n    searchUrl\n    docs {\n      id\n      name\n      email\n      subjects\n      image\n    }\n  }\n}']);return Z=function(){return e},e}var ee=function e(t){Object(U.a)(this,e),this.object="recommendLibrarian",this.gql=function(e){return B()(Z(),F(e))}(t)};var te=function(e){var t=e.searchString,a=e.client;return r.a.createElement(L,{client:a,heading:"Librarians",classPrefix:"librarian",term:"librarians",query:new ee(t),renderResult:function(e){return r.a.createElement(Y,{librarian:e,key:"librarian-".concat(e.id)})}})};function ae(){var e=Object(T.a)(['\n{\n  searchVideo( keyword: "','", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages { \n        url\n      },\n      available,\n      isPhysical,\n      isElectronic,\n      screenCap,\n      format,\n      mms,\n      holdings {\n        ilsId,\n        libraryCode,\n        locationDisplay,\n        locationCode,\n        availabilityStatus,\n        callNumber,\n        items {\n          availability,\n          locationCode,\n          location,\n          libraryDisplay,\n          library,\n          callNumber\n          }\n        }\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}']);return ae=function(){return e},e}var ne=function e(t){Object(U.a)(this,e),this.object="searchVideo",this.gql=function(e){return B()(ae(),F(e))}(t)};var re=function(e){var t=e.searchString,a=e.client;return r.a.createElement(L,{client:a,heading:"Videos",classPrefix:"videos",term:"videos",query:new ne(t),renderResult:function(e){return r.a.createElement(j,{item:e,key:"video-".concat(e.id)})}})};function ie(e){return{__html:e.highlight[1]}}var le=function(e){var t=e.hit;return r.a.createElement("li",{className:"website-hit"},r.a.createElement("h3",{className:"website-hit__title"},r.a.createElement("a",{href:t.url},t.title)),"in ",r.a.createElement("a",{href:t.guideUrl,className:"website-hit__guide-title"},t.guideTitle),r.a.createElement("div",{className:"website-hit__highlight",dangerouslySetInnerHTML:ie(t)}))};function ce(){var e=Object(T.a)(['\n{\n  searchWebsite( keyword: "','") {\n    total\n    searchUrl\n    docs {\n      title\n      guideTitle\n      updated\n      url\n      guideUrl\n      fullTitle\n      highlight\n    }\n  }\n}']);return ce=function(){return e},e}var se=function e(t){Object(U.a)(this,e),this.object="searchWebsite",this.gql=function(e){return B()(ce(),F(e))}(t)};var oe=function(e){var t=e.searchString,a=e.client;return r.a.createElement(L,{client:a,heading:"Our Website",classPrefix:"website",term:"results",query:new se(t),renderResult:function(e){return r.a.createElement(le,{hit:e,key:"hit-".concat(e.url)})}})};var me=function(e){var t=e.bestBet,a=t.link?r.a.createElement("a",{href:t.link},t.title):r.a.createElement("span",null,t.title);return r.a.createElement("div",{className:"best-bet-row"},r.a.createElement("h2",{className:"best-bet-row__heading"},"Top result"),r.a.createElement("div",{className:"best-bet-result"},r.a.createElement("h3",{className:"best-bet-result__title"},a),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.displayText}})))};function ue(){var e=Object(T.a)(['\n{\n  bestBet( keyword: "','") {\n      title\n      displayText\n      link\n  }\n}']);return ue=function(){return e},e}var de=function(e){var t=e.searchString,a=e.client,n=Object(O.a)(function(e){return B()(ue(),F(e))}(t),{client:a}),i=n.loading,l=n.error,c=n.data;return i||l||!c.bestBet?null:r.a.createElement(me,{bestBet:c.bestBet})};var he=function(e){var t=e.target,a=e.label;return r.a.createElement("div",null,r.a.createElement("span",{className:"link-to-results__skip_to_link",onClick:function(e){t.current&&t.current.scrollIntoView({behavior:"smooth",block:"start"})}},a))};function ve(e){var t=e.booksDiv,a=e.articlesDiv,n=e.faqDiv,i=e.librariansDiv,l=e.videoDiv,c=e.websiteDiv;return r.a.createElement("div",{className:"row"},r.a.createElement("nav",{className:"link-to-results col-md-8"},r.a.createElement("div",{className:"link-to-results__skip-to"},"Skip to:"),r.a.createElement(he,{target:t,label:"Books & more"}),r.a.createElement(he,{target:a,label:"Articles"}),r.a.createElement(he,{target:n,label:"FAQ"}),r.a.createElement(he,{target:i,label:"Librarians"}),r.a.createElement(he,{target:l,label:"Video"}),r.a.createElement(he,{target:c,label:"Website"})),r.a.createElement("div",{className:"not-finding col-md-4"},"Not finding what you need? ",r.a.createElement("a",{href:"https://libguides.bc.edu/ask-a-librarian"},"Ask us!")))}var be=new(a(99).a)({uri:"https://library.bc.edu/bcbento-server/graphql"});var ge=function(e){var t=e.searchString,a={booksDiv:Object(n.useRef)(null),articlesDiv:Object(n.useRef)(null),faqDiv:Object(n.useRef)(null),librariansDiv:Object(n.useRef)(null),videoDiv:Object(n.useRef)(null),websiteDiv:Object(n.useRef)(null)},i={searchString:t,client:be};return r.a.createElement("div",null,r.a.createElement(ve,a),r.a.createElement("div",{className:"bento-results"},r.a.createElement(de,i),r.a.createElement("div",{className:"results-row-1 row"},r.a.createElement("div",{className:"col-md-5 col-sm-12",ref:a.booksDiv},r.a.createElement(H,i)),r.a.createElement("div",{className:"col-md-5 col-md-offset-1 col-sm-12",ref:a.articlesDiv},r.a.createElement(G,i))),r.a.createElement("div",{className:"results-row-2 row",ref:a.faqDiv},r.a.createElement("div",{className:"col-md-7"},r.a.createElement(X,i)),r.a.createElement("div",{className:"col-md-4 col-md-offset-1",ref:a.librariansDiv},r.a.createElement(te,i))),r.a.createElement("div",{className:"results-row-3 row",ref:a.videoDiv},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(re,i))),r.a.createElement("div",{className:"results-row-4 row",ref:a.websiteDiv},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(oe,i)))))};var fe=function(){return r.a.createElement("div",{className:"blank-search-screen"},r.a.createElement("div",{className:"blank-search-screen__explanation"},"Search for just about anything in or about the Libraries."))};var Ee=function(e){var t=e.searchBox,a=e.searchString;return r.a.createElement("div",{className:"bento-results-page"},r.a.createElement("h1",{className:"sr-only sr-only-focusable",id:"main-heading"},"Search the library"),t,a?r.a.createElement(ge,{searchString:a}):r.a.createElement(fe,null))},pe=a(65),_e=a.n(pe),ye=a(97),Ne=a(98),we=a.n(Ne);var ke=function(e){var t=e.searchBoxId,a=e.suggestions,n=e.fetchSuggestions,i=e.clearSuggestions,l=e.onSuggestionSelected,c=e.inputProps;return r.a.createElement("form",{method:"get",action:"..",className:"bento-search-box"},r.a.createElement("label",{htmlFor:t,className:"bcbento-search-box__input-label sr-only"},"Enter a search term please"),r.a.createElement(we.a,{suggestions:a,onSuggestionsFetchRequested:n,onSuggestionsClearRequested:i,renderSuggestion:function(e){return r.a.createElement("div",{className:"search-suggestion"},e.value)},onSuggestionSelected:l,inputProps:c}))},Se=3,je="bento-search-box__search-input";function xe(e,t){t.suggestion;var a=t.suggestionValue,n=(t.suggestionIndex,t.sectionIndex,t.method,window.location.protocol+"//"+window.location.host+window.location.pathname);window.location.href="".concat(n,"?any=").concat(a)}var Oe=function(e){var t=e.handleTyping,a=e.searchString,i=e.onSubmit,l=Object(n.useState)([]),s=Object(c.a)(l,2),o=s[0],m=s[1],u=Object(n.useState)(a),d=Object(c.a)(u,2),h=d[0],v=d[1];function b(){return(b=Object(ye.a)(_e.a.mark(function e(t){var a,n,r,i,l;return _e.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.value,n=t.reason,!(a.length<Se||"input-focused"===n)){e.next=3;break}return e.abrupt("return");case 3:return r="https://library.bc.edu/search-services/typeahead?any=".concat(a),i=[],e.prev=5,e.next=8,fetch(r);case 8:return l=e.sent,e.next=11,l.json();case 11:i=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),i=[];case 17:m(i);case 18:case"end":return e.stop()}},e,null,[[5,14]])}))).apply(this,arguments)}var g={searchBoxId:je,suggestions:o,fetchSuggestions:function(e){return b.apply(this,arguments)},clearSuggestions:function(){m([])},onSuggestionSelected:xe,inputProps:{placeholder:"Search for books, articles, journals, databases",value:h,onChange:function(e,a){var n=a.newValue;"enter"===a.method?i():(v(n),t(n))},name:"any",id:je,autoFocus:!h}};return r.a.createElement(ke,g)};a(155);function Re(e){document.title=e?"Search - ".concat(e):"Search"}var Ce=function(){var e=function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}("any");Re(e);var t=Object(n.useState)(e),a=Object(c.a)(t,2),i=a[0],l=a[1],s=Object(n.useState)(""),o=Object(c.a)(s,2),m=o[0],u=o[1],d=r.a.createElement(Oe,{searchString:i,handleTyping:function(e){return u(e)},handleSubmit:function(){l(m),Re(i)}});return r.a.createElement(Ee,{searchBox:d,searchString:i})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[100,1,2]]]);
//# sourceMappingURL=main.edd045df.chunk.js.map