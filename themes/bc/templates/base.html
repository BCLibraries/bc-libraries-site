<!DOCTYPE html>
<html lang="{{ DEFAULT_LANG }}">
<head>
    {% block head %}

    <meta name="Description" content="Boston College Libraries.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock title %} - {{ SITENAME }}</title>
    <meta charset="utf-8"/>

    <link rel="shortcut icon" href="/favicon.ico?v=0" />

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!--link rel="stylesheet" href="/theme/css/bootstrap.css"/-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/theme/bcbento/css/app.css?v=20190110"/>
    <!--link rel="stylesheet" href="/theme/css/style.css?version=2017060501"/-->
    <link rel="stylesheet" href="/theme/css/refresh.css?version=20180625"/>
    
    <!-- EXHIBIT STYLE SHEETS -->
    <link rel="stylesheet" href="/theme/css/exhibit_refresh.css?version=20170811"/>

    <!-- MEGA MENU AND FOOTER STYLE SHEETS -->
    <!-- MODULAR SHEETS TO QUICKLY ADD INTO LIBGUIDES  -->
    <link rel="stylesheet" href="/theme/css/megamenu.css?version=20180625"/>
    <link rel="stylesheet" href="/theme/css/footer.css?version=20170810"/>
    <!-- END MEGA MENU AND FOOTER STYLES -->

    <!-- CONTENT ROW STYLE SHEETS, CAN BE MERGED INTO MASTER STYLE SHEET LATER.-->
    <link rel="stylesheet" href="/theme/css/refresh_content_rows.css?version=20170804"/>
    <!-- END CONTENT ROW STYLES -->

    <link rel="stylesheet" href="/theme/css/icomoon.css"/>
    <link rel="stylesheet" href="/theme/css/notification.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <!--script type="text/javascript" src="https://code.jquery.com/ui/1.12.4/jquery-ui.min.js"></script-->
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    {% block pagestyles %}
    {% endblock %}

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>

    <![endif]-->

    <!-- SCRIPT TO TURN SIDE NAVIGATION INTO DROPDOWNS ON MOBILE.  DO NOT REMOVE.  -->
    <!--script>
    /* DOM ready*/
    $(function() {
        var myNavID = "nav";
        /* For each nav menu, create a corresponding drop down menu */
        $("nav.drop-down").each(function(){
            if ($(this).attr("id")) {
                myNavID = "nav#" + $(this).attr("id");
            }

            //console.log("navID " + myNavID);

            sel = $(this).find(".nav-mobile");

            if (sel.length == 0){
                /* Create the dropdown base */
                $("<select class='nav-mobile' />").appendTo(myNavID);
                sel = $(this).find(".nav-mobile");
            }

            /* Create default option "Go to..." */
            $("<option />", {
                "selected": "selected",
                "value"   : "",
                "text"    : "Go to..."
            }).appendTo(sel);

            /* Populate dropdown with menu items */
            $(myNavID + " a").each(function() {
                var el = $(this);
                var myText = el.text();
                if ($(el).parents(".s-lg-subtab-ul").length > 0) {
                    myText = "> " + el.text();
                }
                $("<option />", {
                    "value"   : el.attr("href"),
                    "text"      : myText
                }).appendTo(sel);
            });

            /* To make dropdown actually work
            // To make more unobtrusive: http://css-tricks.com/4064-unobtrusive-page-changer/ */
            $(sel).change(function() {
                window.location = $(this).find("option:selected").val();
            });
        });
    });
    </script-->

    <!-- JSON-LD markup generated by Google Structured Data Markup Helper. -->
    <script type="application/ld+json">
    {
      "@context" : "https://schema.org",
      "@type" : "Library",
      "name" : "Boston College Libraries",
      "alternateName": "Boston College University Libraries",
      "url": "https://library.bc.edu",
      "image" : "https://s3.amazonaws.com/libapps/accounts/3908/images/bapst-banner.png",
      "logo" : "https://library.bc.edu/theme/img/title_sq_nomotto_72dpi.png",
      "telephone" : "617-552-4470",
      "address" : {
        "@type" : "PostalAddress",
        "streetAddress" : "140 Commonwealth Avenue",
        "addressLocality" : "Chestnut Hill",
        "addressRegion" : "MA",
        "postalCode" : "02467"
      },
      "sameAs": [
        "https://www.facebook.com/bostoncollegelibraries",
        "https://twitter.com/bclibraries",
        "https://www.youtube.com/user/BostonCollegeLib",
        "https://libguides.bc.edu/publications",
        "https://www.flickr.com/photos/bc-burnslibrary/"
      ],
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://library.bc.edu/search/?any={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>

    <!--
      <PageMap>
        <DataObject type="thumbnail">
          <Attribute name="src" value="https://library.bc.edu/theme/img/library_thumbnail.png"/>
          <Attribute name="width" value="225"/>
          <Attribute name="height" value="150"/>
        </DataObject>
      </PageMap>
    -->

    <!-- Google Analytics script -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-3008279-16', 'auto');
      ga('require', 'linkid');
      ga('send', 'pageview');

        $(function () {
            var $all_anchors = $('a');

            $('#megamenu-refresh ul.nav li.dropdown').mouseenter(function() {
                var myText = $(this).find("a.menu-option").text();
                ga('send', 'event', 'megamenu', 'hover', myText.trim());
            });
            $("ul.item-desktop li a").mouseenter(function(){
                var myPane = $(this).html();
                ga('send', 'event', 'librarypanes', 'hover', myPane);
            });
            //
            // HOMEPAGE only GA event triggers
            //
            // send 'outbound' event for all link clicks
            $all_anchors.not('#askuswidget, .search-link, .accessibility-text').click(function(e) {
                var url = $(this).attr("href");
                /* Bug fix to stop screen jump when clicking carousel controls */
                if (url.indexOf('#') !== 0) {
                    ga("send", "event", "outbound", "click", url);
                }
            });
            // send 'homepage' event for all link clicks and include sections
            // ignore news carousel and mega menu top-level links
            $all_anchors.not("#askuswidget, .carousel-control, li.dropdown > a.menu-option, .accessibility-text").click(function(e){
                var url = $(this).attr("href");                
                var dataTag = $(this).parents("[data-tag=ga-tag]");
                var dataID = "-";
                if (dataTag && dataTag.length) {
                    dataID = dataTag.attr("id");
                    if (typeof dataID === 'undefined') {
                        dataID = "-"
                    }
                }
                ga('send', 'event', 'homepage', dataID, url);
            });
            // send 'exhibits-nav' event for carosel nav clicks
            // -   left and right nav buttons
            $("a.carousel-control").click(function(e){
                var nav = $(this).attr("data-slide");
                if (typeof nav === "undefined") {
                    nav = "-";
                }
                ga('send', 'event', 'exhibits-nav', 'click', nav);
            });
            // -   dot indicators
            $("ol.carousel-indicators li").click(function(e){
                var slide = $(this).attr("data-slide-to");
                if (typeof slide === "undefined") {
                    slide = "-";
                }
                ga('send', 'event', 'exhibits-nav', 'click', 'indicator', slide);
            });
            // send 'story-nav' event for story selector clicks
            $("#storybox .story-selectors img.selector").click(function(e){
                var src = $(this).attr("src");
                ga('send', 'event', 'story-nav', 'click', src);
            });
            //
            // catch Ask Us fixed button clicks
            //
            $("a#askuswidget").click(function(e){
                var src = window.location.href;
                ga('send', 'event', 'chat-widget', 'click', src);
            });
        });
        // Initialize bootstrap popover
        //$(function () { $('[data-toggle="tooltip"]').tooltip() });
    </script>
    {% endblock head %}
</head>

<body id="index" class="s-lg-guide-body mainhomepage homepagerefresh">

<!--div id="downtime-notification">
    The library will be closed for a snow day today.
    <a id="close">[close]</a>
</div-->

    {% if LOCAL_BUILD == True or JENKINS_BUILD == True or BAMBOO_BUILD == True %}
        {% include 'build-header.html' %}
    {% endif %}

    <a id="skiplink" href="#main-heading" class="accessibility-text">Skip to main content</a>

    {# modular bc maroon header #}
    {% include 'bclib-header.html' %}

    <h1 class="sr-only sr-only-focusable">{{ self.title() }}</h1>

    {% block content %}
    {% endblock %}

    <footer role="contentinfo">
        <h2 class="sr-only sr-only-focusable">Footer</h2>
        {% include 'footer-lib.html' %}

        {% include 'footer-bc.html' %}
    </footer>

    <!-- FEEDBACK FORM -->
    <div id="bcl-feedback" class="bcl-modal">
        <div id="feedback_wrapper">
            <div id="feedback_close"></div>
            <div id="s-la-widget-5468"></div>
        </div>
    </div>
    <!-- END FEEDBACK FORM -->

    <script src="/theme/js/nospam.js"></script>
    <script src="/theme/js/libhoursv2.js"></script>

    <!-- MEGA MENU SCRIPTS -->
    <!-- This code will prevent unexpected menu close when using some components (like accordion, forms, etc) -->
    <script>$(document).on('click','.yamm .dropdown-menu',function(e){e.stopPropagation()});</script>
    <script type="text/javascript" src="/theme/js/bootstrap-hover-dropdown.min.js"></script>
    <script type="text/javascript" src="/theme/js/jquery.hoverIntent.minified.js"></script>
    <script type="text/javascript" src="/theme/js/megamenu.js"></script>
    <script type="text/javascript" src="/theme/js/libraryinfo.js"></script>
    <!-- END MEGA MENU SCRIPTS -->

    <script src="https://arc.bc.edu/notices/downtime-notices-client.js"></script>
    <script>
        // Only run in test for now.
        if (window.location.hostname === 'libdev.bc.edu') {
            BCLibDowntimeNotices({
                styles: true
            });
        }
</script>
    {% block pagescripts %}
    {% endblock %}
</body>
</html>
