<!-- EXHIBIT HIGHLIGHT START -->

<!-- FUTURE NOTES, ADD SLIDER AND OTHER EXHIBITS -->

<div id="exhibit-highlight">

    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2">
                <h2>Exhibits</h2>
            </div>

            <div class="col-md-12">
                <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="false">

                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        {% set count = [0] %}
                        {% for article in articles if article.category.name == "exhibits" and article.active == "yes" %}
                            {# include only selected article.locations #}
                            {% if article.location == "burns" 
                                or article.location == "lvl1" 
                                or article.location == "lvl3" 
                                or article.location == "backwall" 
                                or article.location == "tml" 
                            %}
                                <li data-target="#myCarousel" data-slide-to="{{ count[0] }}" class="{% if count[0] == 0 %}active{% endif %}" data-location="{{ article.location }}"></li>

                                {# increment counter https://stackoverflow.com/questions/7537439/how-to-increment-a-variable-on-a-for-loop-in-jinja-template/32700975#32700975 #}
                                {% if count.append(count.pop() + 1) %}{% endif %}
                            {% endif %}
                        {% endfor %}
                    </ol>
                    
                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" id="exhibits"  data-tag="ga-tag">

                        {% if articles %}
                            {% set count = [0] %}
                            {% for article in articles if article.category.name == "exhibits" and article.active == "yes" %}

                                {# setting default values for loop #}
                                {% set library_label = "" %}
                                {% set library_label_set = false %}

                                {% if count[0] < 20 %}
                                    {# set the library label based on article.location #}
                                    {# hide select locations by adding '-HIDE' to article.location string compare #}
                                    {% if article.location == "burns" %}
                                        {% set library_label = "Burns Library" %}
                                        {% set library_label_set = true %}
                                    {% elif article.location == "lvl1" %}
                                        {% set library_label = "O'Neill Library, Level 1 Gallery" %}
                                        {% set library_label_set = true %}
                                    {% elif article.location == "lvl3" %}
                                        {% set library_label = "O'Neill Library, Level 3 Gallery" %}
                                        {% set library_label_set = true %}
                                    {% elif article.location == "backwall" %}
                                        {% set library_label = "O'Neill Library, Reading Room Back Wall" %}
                                        {% set library_label_set = true %}
                                    {% elif article.location == "tml" %}
                                        {% set library_label = "Theology &amp; Ministry Library, Level 1 Gallery" %}
                                        {% set library_label_set = true %}
                                    {% elif article.location == "reading-HIDE" %}
                                        {% set library_label = "O'Neill Library, Level 3 Reading Room" %}
                                        {% set library_label_set = false %}
                                    {% elif article.location == "bapst-HIDE" %}
                                        {% set library_label = "Bapst Library, Gargan Hall" %}
                                        {% set library_label_set = false %}
                                    {% elif article.location == "stokes-HIDE" %}
                                        {% set library_label = "Stokes Hall, 3rd Floor" %}
                                        {% set library_label_set = false %}
                                    {% elif article.location == "burnsomeka-HIDE" %}
                                        {% set library_label = "Burns Virtual Exhibit" %}
                                        {% set library_label_set = false %}
                                    {% else %}
                                        {% set library_label = "" %}
                                        {% set library_label_set = false %}
                                    {% endif %}

                                    {% if library_label and library_label_set == true %}
                                    <div class="item exhibit-box {% if count[0] == 0 %}active{% endif %}" data-location="{{ article.location }}">
                                        <div class="row">
                                            <div class="exhibit-left col-md-9 col-sm-9 col-xs-12">
                                                <p><em>{{ library_label }}</em></p>
                                                <a href="../{{ article.url }}" class="current-exhibits-title">{{ article.title }}</a>

                                                <div class="exhibit-blurb">{{ article.content|truncate(140, False, '...') }}</div>
                                                <br />
                                                <p class="more-exhibits-button"><a href="https://library.bc.edu/exhibits"><span class="btn btn-default btn-blue">See more exhibits</span></a></p>
                                            </div>

                                            <div class="exhibit-right col-md-3 col-sm-3 col-xs-4">
                                                <img src="/theme/img/exhibits/{{ article.location }}/{{ article.image_thumb }}" alt="{{ article.image_thumb_alt }}" class="exhibit-poster">
                                            </div>
                                        </div>
                                    </div>
                                    {# increment counter https://stackoverflow.com/questions/7537439/how-to-increment-a-variable-on-a-for-loop-in-jinja-template/32700975#32700975 #}
                                    {% if count.append(count.pop() + 1) %}{% endif %}
                                    {% endif %}
                                {% endif %}
                           {% endfor %}
                        {% endif %}
                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev" style="left:-15%">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" data-slide="next" style="right:-15%">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- EXHIBIT HIGHLIGHT END -->